function destroyNicescroll(){$(".niceScroll").getNiceScroll().hide(),$("html").getNiceScroll().hide()}function mmenu(){$(".m-menu").click(function(){$("header nav ul").css({left:"0"}),$(".close-mmenu").addClass("in"),$(".overlay-mm").css({left:"0"})}),$(".close-mmenu, header nav>ul li a").click(function(){$("header nav ul").css({left:"-100%"}),$(".close-mmenu").removeClass("in"),$(".overlay-mm").css({left:"-100%"})})}$(document).ready(function(){$(window).scroll(function(){$(this).scrollTop()>50?$(".nyp-back-top").fadeIn():$(".nyp-back-top").fadeOut()}),$(".nyp-back-top").click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$("header nav ul li a, .scroll-smooth").click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500),!1}),$("input.infield.full").addClass("form-control"),$(".widget-map").click(function(){$(this).find("iframe").addClass("visited")}).mouseleave(function(){$(this).find("iframe").removeClass("visited")}),$("#commentForm").validate({errorClass:"error",ignore:".ignore",rules:{enq_email:{email:!0},enq_mobile:{digits:!0,minlength:8,maxlength:12},hiddenRecaptcha:{required:function(){return""==grecaptcha.getResponse()}}},messages:{enq_name:"Please enter your name",enq_email:{required:"Please enter your valid email address",email:"Valid email address format should be name@domain.com"},enq_mobile:{required:"Please enter your mobile number",digits:"Please use numeric characters only"},enq_enquiry:"Please enter your enquiry"},submitHandler:function(e){var a=$(e).serialize();return jQuery.ajax({cache:!1,type:"POST",url:"assets/js/libs/submit_enquiry.php",data:a,dataType:"json",success:function(e){var a=e.status;"1"==a?($("#success").modal("show"),$(".close").click(function(){$(".form-control").val(""),window.location.reload("http://preview2.cxrus.net/be2/index.html#contactID")})):alert(e.info)},error:function(){console.error("[ERROR] Something went wrong. Please try again later.")},statusCode:{404:function(){console.error("[Error - 404] The requested file not found. Sorry for this inconvenience. Please contact the system administrator.")}},statusCode:{500:function(){console.warn("[WARNING - 500] Something went wrong with the server and it could not complete your request. You could try again later, but if the problem persists, please contact your technical support.")}}}),!1}}),jQuery.validator.addMethod("fullemail",function(e,a){return this.optional(a)||/^(([a-zA-Z]|[0-9])|([-]|[_]|[.]))+[@](([a-zA-Z0-9])|([-])){2,63}[.](([a-zA-Z0-9]){2,63})+([.](([a-zA-Z0-9]){2,63}))?$/gi.test(e)},"Please enter valid email address"),jQuery.validator.addMethod("multiemail",function(e,a){var t=e.split(/[;,]+/);valid=!0;for(var s in t)e=t[s],valid=valid&&jQuery.validator.methods.email.call(this,$.trim(e),a);return valid},"Please enter valid email address"),$("#emailForm").validate({rules:{share_sender:{fullemail:!0},share_recipient:{multiemail:!0}},messages:{share_sender:{required:"Please enter your valid email address",fullemail:"Valid email address format should be name@domain.com"},share_recipient:{required:"Please enter valid email address",multiemail:"You must enter valid email address, or use comma to separate multiple email addresses."}},submitHandler:function(e){var a=$(e).serialize(),t=$('input[type="submit"].fsubmit');return t.attr("disabled","disabled").addClass("disabled").val("Sending..."),jQuery.ajax({cache:!1,type:"POST",url:"assets/js/libs/send_mail.php",data:a,dataType:"json",success:function(e){var a=e.status,s=$("#share_response");s.removeClass("success failed"),t.removeAttr("disabled").removeClass("disabled").val("Send Email Now"),"1"==a?(s.addClass("success").text(e.info).show(),$(".form-control[name='share_sender']").val(""),$(".form-control[name='share_recipient']").val("")):s.addClass("failed").text(e.info).show(),$(".btn[data-dismiss='modal']").click(function(){$(".msg-text,.success").hide()})},error:function(){console.error("[ERROR] Something went wrong. Please try again later.")},statusCode:{404:function(){console.error("[Error - 404] The requested file not found. Sorry for this inconvenience. Please contact the system administrator.")}},statusCode:{500:function(){console.warn("[WARNING - 500] Something went wrong with the server and it could not complete your request. You could try again later, but if the problem persists, please contact your technical support.")}}}),!1}}),$("#share-form-open").click(function(){$("#shareModal").modal("hide")}),$("nav ul li a").click(function(){var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).offset().top},500),$("nav ul li a").removeClass("active"),$(this).addClass("active")}),$(window).scroll(function(){$(this).scrollTop()>250&&$("header").fadeIn(),"page-home"==$("body").attr("id")&&($(window).scrollTop()>=parseInt($("#homeID").offset().top-350)&&$(window).scrollTop()<=parseInt($("#programmeID").offset().top-350)&&$("#id1").addClass("active").parent().siblings().find("a").removeClass("active"),$(window).scrollTop()>=parseInt($("#programmeID").offset().top-350)&&$(window).scrollTop()<=parseInt($("#faqID").offset().top-350)&&$("#id2").addClass("active").parent().siblings().find("a").removeClass("active"),$(window).scrollTop()>=parseInt($("#faqID").offset().top-350)&&$(window).scrollTop()<=parseInt($("#contactID").offset().top-350)&&$("#id3").addClass("active").parent().siblings().find("a").removeClass("active"),$(window).scrollTop()>=parseInt($("#contactID").offset().top-350)&&$(window).scrollTop()<=parseInt($("#mapID").offset().top-350)&&$("#id4").addClass("active").parent().siblings().find("a").removeClass("active"),$(window).scrollTop()>=parseInt($("#mapID").offset().top-350)&&$("#id5").addClass("active").parent().siblings().find("a").removeClass("active"))})});var browser=navigator.appName,ver=navigator.appVersion,thestart=parseFloat(ver.indexOf("MSIE"))+1,brow_ver=parseFloat(ver.substring(thestart+4,thestart+7));"Microsoft Internet Explorer"==browser&&brow_ver<10&&$(document).ready(function(){$("html, .niceScroll").css({"overflow-y":"scroll"})}),window.matchMedia("(max-width: 1100px)").matches?(destroyNicescroll(),mmenu(),$(".close-mmenu").click(function(){$("header nav ul, header nav ul:after").css({left:"-100%"})})):$(document).ready(function(){function e(){$("html").niceScroll()}e(),$(".niceScroll").niceScroll()});